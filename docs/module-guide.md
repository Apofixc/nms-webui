# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –º–æ–¥—É–ª–µ–π NMS-WebUI

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (–ø–ª–∞–≥–∏–Ω–æ–≤) –¥–ª—è —Å–∏—Å—Ç–µ–º—ã NMS-WebUI. –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å —è–≤–ª—è–µ—Ç—Å—è "–ø–ª–∞–≥–∏–Ω–æ–º", –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±—ç–∫–µ–Ω–¥-–ª–æ–≥–∏–∫—É, API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

---

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

–í—Å–µ –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backend/modules/<module_id>/`.

–¢–∏–ø–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```text
backend/modules/<module_id>/
‚îú‚îÄ‚îÄ manifest.yaml      # ‚ö†Ô∏è –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª: –æ–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª—è, –ø—É—Ç–µ–π –∏ UI
‚îú‚îÄ‚îÄ __init__.py        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ module.py          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –º–æ–¥—É–ª—è (–Ω–∞—Å–ª–µ–¥—É–µ—Ç BaseModule)
‚îú‚îÄ‚îÄ api.py             # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–æ–≤ FastAPI
‚îú‚îÄ‚îÄ services.py        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –º–æ–¥—É–ª—è
‚îî‚îÄ‚îÄ models.py          # Pydantic –∏ DB –º–æ–¥–µ–ª–∏
```

---

## üìú 1. –°–æ–∑–¥–∞–Ω–∏–µ manifest.yaml

`manifest.yaml` ‚Äî —ç—Ç–æ "–µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã" –¥–ª—è —Å–∏—Å—Ç–µ–º—ã. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±—ç–∫–µ–Ω–¥–æ–º –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–≥–∏–∫–∏ –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–µ–Ω—é –∏ —Ä–æ—É—Ç–æ–≤.

–ü—Ä–∏–º–µ—Ä –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ (`backend/modules/notifications/manifest.yaml`):

```yaml
id: notifications              # kebab-case, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø—Ä–æ–µ–∫—Ç–∞
name: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è              # –ß–∏—Ç–∞–µ–º–æ–µ –∏–º—è –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
version: 1.0.0                 # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
description: –°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤   # –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
enabled_by_default: true       # –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ
type: feature                  # –¢–∏–ø: system | feature | driver

deps:                          # –°–ø–∏—Å–æ–∫ ID –º–æ–¥—É–ª–µ–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è —Ä–∞–±–æ—Ç—ã
  - database

entrypoints:                   # –¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —è–¥—Ä–æ–º —Å–∏—Å—Ç–µ–º—ã
  factory: "backend.modules.notifications:create_module" # Python-–ø—É—Ç—å –∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
  router: "backend.modules.notifications.api:router"     # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ API —Ä–æ—É—Ç–µ—Ä–∞
  settings: "backend.modules.notifications.config:schema" # –§—É–Ω–∫—Ü–∏—è —Å—Ö–µ–º—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫

routes:                        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
  - path: "/notifications"
    name: "notifications-index"
    meta:
      title: "–ñ—É—Ä–Ω–∞–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"
      icon: "bell"             # –ò–º—è –∏–∫–æ–Ω–∫–∏ –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
      group: "–°–∏—Å—Ç–µ–º–∞"         # –ì—Ä—É–ø–ø–∞ –¥–ª—è —Ö–ª–µ–±–Ω—ã—Ö –∫—Ä–æ—à–µ–∫/–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
      requires_auth: true      # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

config_schema:                 # JSON Schema –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–æ—Ä–º
  type: object
  properties:
    host:                     # –ï—Å–ª–∏ –≤ –∏–º–µ–Ω–∏ –µ—Å—Ç—å "host" –∏–ª–∏ "ip", –±—É–¥–µ—Ç –∞–≤—Ç–æ-–≤–∞–ª–∏–¥–∞—Ü–∏—è IP
      type: string
      default: "127.0.0.1"
      group: "–°–µ—Ç—å"           # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ–ª–µ–π –≤ UI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    scan_port:
      type: integer
      minimum: 1
      maximum: 65535
      default: 8000
      group: "–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"
    email_enabled:
      type: boolean
      default: true
      group: "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"

menu:                          # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  location: sidebar            # –ú–µ—Å—Ç–æ: sidebar –∏–ª–∏ footer
  group: "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"          # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤ –º–µ–Ω—é
  items:
    - path: "/notifications"
      label: "–°–æ–±—ã—Ç–∏—è"
      icon: "bell"

hooks: {}                      # –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª (on_enable, on_disable)
assets:                        # –†–µ–∑–µ—Ä–≤–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—É—Ç–µ–π
  cache_dirs: ["cache"]
  data_dirs: ["data"]
```

---

## üêç 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ (–ë—ç–∫–µ–Ω–¥)

### –ö–ª–∞—Å—Å –º–æ–¥—É–ª—è (`module.py`)

–ú–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç `BaseModule` –∏ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª.

```python
from backend.modules.base import BaseModule
from typing import Any

class NotificationsModule(BaseModule):
    def init(self) -> None:
        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–Ω–µ–∫—Ç–æ–≤
        print(f"–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è {self.context.id}")

    def start(self) -> None:
        # –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á, –ø–æ–¥–ø–∏—Å–∫–∏
        pass

    def stop(self) -> None:
        # –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
        pass

    def get_status(self) -> dict[str, Any]:
        return {"active": True, "processed_count": 42}
```

### –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (`__init__.py`)

–§—É–Ω–∫—Ü–∏—è `create_module` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–º –∑–∞–≥—Ä—É–∑—á–∏–∫–æ–º:

```python
from backend.core.plugin.context import ModuleContext
from .module import NotificationsModule

def create_module(ctx: ModuleContext) -> NotificationsModule:
    return NotificationsModule(ctx)
```

### API (`api.py`)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—ã—á–Ω—ã–µ —Ä–æ—É—Ç–µ—Ä—ã FastAPI. –û–Ω–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã (mounted) —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `/api/v1/m/<module_id>`.

```python
from fastapi import APIRouter

router = APIRouter()

@router.get("/")
async def get_notifications():
    return [{"id": 1, "text": "–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞"}]
```

### –†–∞–±–æ—Ç–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (Settings)

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª–µ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–º —Ñ–∞–π–ª–µ `webui_settings.json`. –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–∏–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥—ã —Ä–µ–µ—Å—Ç—Ä–∞:

```python
from backend.core.plugin.registry import get_module_settings, save_module_settings

# –ß—Ç–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
settings = get_module_settings("notifications")
is_enabled = settings.get("email_enabled", True)

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç webui_settings.json)
save_module_settings("notifications", {"email_enabled": False})
```

> [!NOTE]
> –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —á–µ—Ä–µ–∑ —Ä–µ–µ—Å—Ç—Ä –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

## üåø 3. –°—É–±–º–æ–¥—É–ª–∏ (Submodules)

–°—É–±–º–æ–¥—É–ª–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è **–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—à–∏—Ä—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–∞–∑–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è, –Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –µ–≥–æ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–ø—Ä—è–º—É—é.

- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `backend/modules/<parent_id>/submodules/<sub_id>/`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –±–µ–∑ –≤—Ä–µ–¥–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —è–¥—Ä–∞.

### üìú –ú–∞–Ω–∏—Ñ–µ—Å—Ç —Å—É–±–º–æ–¥—É–ª—è (`manifest.yaml`)
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–º—É –º–æ–¥—É–ª—é, –Ω–æ –≤–∫–ª—é—á–∞–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `parent`.

```yaml
id: playlist                   # ID —Å—É–±–º–æ–¥—É–ª—è (—É–Ω–∏–∫–∞–ª—å–Ω–æ –≤–Ω—É—Ç—Ä–∏ —Ä–æ–¥–∏—Ç–µ–ª—è)
parent: astra                  # ID —Ä–æ–¥–∏—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, astra)
name: –ü–ª–µ–π–ª–∏—Å—Ç—ã                # –ò–º—è —Å—É–±–º–æ–¥—É–ª—è
version: 1.0.0
description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é –≤–µ—â–∞–Ω–∏—è

deps: [astra, database]        # –ú–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è –∏ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π

entrypoints: 
  factory: "backend.modules.astra.submodules.playlist:init"
  router: "backend.modules.astra.submodules.playlist.api:router"

# –°—É–±–º–æ–¥—É–ª—å –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å–≤–æ–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é
routes:
  - path: "/astra/playlists"
    name: "astra-playlists"
    meta:
      title: "–ü–ª–µ–π–ª–∏—Å—Ç—ã Astra"
      icon: "list-video"

menu:
  location: sidebar
  group: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Astra"
  items:
    - path: "/astra/playlists"
      label: "–ü–ª–µ–π–ª–∏—Å—Ç—ã"
```

### ‚ú® –ö–æ—Ç—Ä–æ–ª—å –∏ –∏–∑–æ–ª—è—Ü–∏—è:
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å—É–±–º–æ–¥—É–ª–µ–º –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—è.
2. **–ö–∞—Å–∫–∞–¥**: –ï—Å–ª–∏ –±–∞–∑–æ–≤—ã–π –º–æ–¥—É–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `astra`) –æ—Ç–∫–ª—é—á–µ–Ω, –≤—Å–µ –µ–≥–æ —Å—É–±–º–æ–¥—É–ª–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
3. **–ò–∑–æ–ª—è—Ü–∏—è**: –°—É–±–º–æ–¥—É–ª—å –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π API –ø—Ä–µ—Ñ–∏–∫—Å –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, —á—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã.

---

---

## üé® 4. –§—Ä–æ–Ω—Ç–µ–Ω–¥

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤ NMS-WebUI —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏. –í–∞–º **–Ω–µ –Ω—É–∂–Ω–æ** –≤—Ä—É—á–Ω—É—é –ø—Ä–∞–≤–∏—Ç—å `router.ts` –≤ —è–¥—Ä–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –º–∞–Ω–∏—Ñ–µ—Å—Ç —á–µ—Ä–µ–∑ `/api/modules`.
2. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—É—Ç–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –±–ª–æ–∫–µ `routes:`.
3. –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—é –≤ —Å–∞–π–¥–±–∞—Ä–µ –∏–∑ –±–ª–æ–∫–∞ `menu:`.

–î–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–¥—É–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ModuleView.vue`. 

### –ê–≤—Ç–æ-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
–ï—Å–ª–∏ –¥–ª—è –º–æ–¥—É–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ `config_schema`, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Ç—Ä–∏–±—É—Ç `group` –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ, —á—Ç–æ–±—ã —Ä–∞–∑–¥–µ–ª–∏—Ç—å –¥–ª–∏–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏.
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: 
    - –ü–æ–ª—è —Å `format: "ipv4"` –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ `host`/`ip` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å IP-–∞–¥—Ä–µ—Å–∞.
    - –¶–µ–ª—ã–µ —á–∏—Å–ª–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–æ `minimum`/`maximum`.
- **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Settings.vue`) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (debounce 750ms).

---

## üîó 5. –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –º–æ–¥—É–ª–∏ –º–æ–≥–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ, —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞:

1. **–°—Ç—Ä–æ–≥–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Fail-fast)**: 
   - –ú–æ–¥—É–ª—å **–Ω–µ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω**, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞ `deps` (–≤ `manifest.yaml`) –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å–∏—Å—Ç–µ–º–µ –∏–ª–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö `webui_settings.json`.
   - –í —Å–ª—É—á–∞–µ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥ –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (`WARNING`).
   - –î–ª—è —Å—É–±–º–æ–¥—É–ª–µ–π –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è (`parent`) —è–≤–ª—è–µ—Ç—Å—è –Ω–æ—Ä–º–æ–π, –ø–æ—ç—Ç–æ–º—É —Å—É–±–º–æ–¥—É–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ç–∏—Ö–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è (`INFO`).
2. **Shared Service Registry**: –ú–æ–¥—É–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç —Å–≤–æ–∏ –ø—É–±–ª–∏—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —è–¥—Ä–µ. –î—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–∏–º —Å–µ—Ä–≤–∏—Å–∞–º, –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—è –∫–æ–¥ –º–æ–¥—É–ª—è –Ω–∞–ø—Ä—è–º—É—é (Loose Coupling).
3. **Celery Bus**: –í—Å–µ —Ç—è–∂–µ–ª—ã–µ –∏–ª–∏ –º–µ–∂–º–æ–¥—É–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á Celery.
4. **Frontend Dynamic Load**: –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ –º–æ–¥—É–ª—è—Ö –¥–æ –º–æ–º–µ–Ω—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏. –í—Å–µ –º–µ–Ω—é –∏ —Ä–æ—É—Ç—ã —Å—Ç—Ä–æ—è—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤.

---

##  –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (Roadmap)
1. **CLI Scaffold**: –ö–æ–º–∞–Ω–¥–∞ `./run_webui.sh make-module` –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ —à–∞–±–ª–æ–Ω—É.
2. **Shared UI Kit**: –ü–∞–∫–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π.
3. **Module Migrations**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è –ø—Ä–∏ –µ–≥–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.
4. **Scaffold Script**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/scripts/scaffold.py notifications` –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∞ –º–æ–¥—É–ª—è (–±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ).
5. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ó–∞–ø—É—Å—Ç–∏—Ç–µ `/scripts/validate.py`, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `manifest.yaml` –Ω–∞ –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º.