id: gstreamer
parent: stream
name: GStreamer Backend
version: 1.0.0
priority: 30
author: NMS-Team
description: Мощный конвейерный бэкенд для конвертации, WebRTC и превью.
entrypoints:
  factory: "backend.modules.stream.submodules.gstreamer:create_backend"

capabilities:
  - streaming
  - conversion
  - preview

# Специфичные настройки бэкенда (генерируют UI)
config_schema:
  type: object
  properties:
    binary_path:
      type: string
      default: "gst-launch-1.0"
      description: "Путь к исполняемому файлу GStreamer"
      group: "Основные"
    webrtc_support:
      type: boolean
      default: true
      description: "Поддержка транскодирования для WebRTC"
      group: "WebRTC"
    stun_server:
      type: string
      default: "stun://stun.l.google.com:19302"
      description: "STUN сервер для WebRTC (если требуется)"
      group: "WebRTC"

# Поддерживаемые форматы и протоколы
formats:
  input_protocols:
    - http
    - hls
    - udp
    - rtp
    - rtsp
    - rtmp
    - srt
  output_types:
    - http
    - http_ts
    - hls
    - webrtc
  preview_formats:
    - jpeg
    - png
    - webp
    - tiff
